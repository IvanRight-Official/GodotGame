############################################
# Root
############################################

# 声明这是仓库根级 editorconfig，防止向上查找
root = true


############################################
# All files（对所有文件生效）
############################################
[*]

# 文件编码统一为 UTF-8（Unity / Godot / Git 通用）
charset = utf-8

# 使用 LF 换行，避免 Windows / Unix 混乱
end_of_line = lf

# 文件末尾始终保留一个空行（POSIX / Git 友好）
insert_final_newline = true

# 删除行尾多余空白，避免无意义 diff
trim_trailing_whitespace = true


############################################
# C# files
############################################
[*.cs]

# ---------- 缩进规则 ----------
# 使用空格缩进（Rider / Unity / Godot 默认）
indent_style = space

# 每级缩进 4 个空格（C# 官方与引擎示例一致）
indent_size = 4
tab_width = 4


# ---------- using 指令 ----------
# System.* 的 using 排在最前面
dotnet_sort_system_directives_first = true

# using 分组（System / 第三方 / 项目内）
dotnet_separate_import_directive_groups = true


# ---------- var 使用策略 ----------
# 内置基础类型（int / float / bool）不使用 var，提高可读性
csharp_style_var_for_built_in_types = false:suggestion

# 类型一眼可知时允许使用 var（new / 显式返回）
csharp_style_var_when_type_is_apparent = true:suggestion

# 其他情况不使用 var，避免隐藏真实类型
csharp_style_var_elsewhere = false:suggestion


# ---------- 表达式体（=>） ----------
# 方法体不用表达式体，保证调试与可读性（Update / _Process 等）
csharp_style_expression_bodied_methods = false:suggestion

# 属性允许表达式体（无副作用，阅读成本低）
csharp_style_expression_bodied_properties = true:suggestion

# getter / setter 允许表达式体
csharp_style_expression_bodied_accessors = true:suggestion


# ---------- this. 修饰 ----------
# 不强制使用 this.，避免视觉噪音
dotnet_style_qualification_for_field = false:suggestion
dotnet_style_qualification_for_property = false:suggestion
dotnet_style_qualification_for_method = false:suggestion
dotnet_style_qualification_for_event = false:suggestion


# ---------- null / 模式匹配 ----------
# 允许 throw 表达式（如 ?? throw）
csharp_style_throw_expression = true:suggestion

# 优先使用 is + 模式匹配，而不是 is + 强转
csharp_style_pattern_matching_over_is_with_cast_check = true:suggestion

# 优先使用模式匹配，而不是 as + null 判断
csharp_style_pattern_matching_over_as_with_null_check = true:suggestion


# ---------- readonly ----------
# 能 readonly 的字段建议标记 readonly（线程安全 / 可维护性）
dotnet_style_readonly_field = true:suggestion

# 建议行宽 100 字符（文档为“考虑换行”，非强制）
max_line_length = 100

# Allman 风格大括号
csharp_new_line_before_open_brace = all

# 不在 { 后、} 前插入空行(不支持)
# csharp_new_line_between_members = true
# csharp_new_line_after_open_brace = none
# csharp_new_line_before_close_brace = none

############################################
# 命名规范
############################################

# ---------- private 字段 ----------
# 私有字段使用 _camelCase（Unity / Godot 社区事实标准）
dotnet_naming_rule.private_fields_should_be_camel_case.severity = suggestion
dotnet_naming_rule.private_fields_should_be_camel_case.symbols = private_fields
dotnet_naming_rule.private_fields_should_be_camel_case.style = camel_case_with_underscore

# 适用对象：字段
dotnet_naming_symbols.private_fields.applicable_kinds = field

# 访问级别：private
dotnet_naming_symbols.private_fields.applicable_accessibilities = private

# 命名样式：_camelCase
dotnet_naming_style.camel_case_with_underscore.capitalization = camel_case
dotnet_naming_style.camel_case_with_underscore.required_prefix = _


# ---------- 常量 ----------
# const 常量使用 PascalCase（C# 官方设计指南）
dotnet_naming_rule.constants_should_be_pascal_case.severity = suggestion
dotnet_naming_rule.constants_should_be_pascal_case.symbols = constants
dotnet_naming_rule.constants_should_be_pascal_case.style = pascal_case

# 仅作用于 const 字段
dotnet_naming_symbols.constants.applicable_kinds = field
dotnet_naming_symbols.constants.required_modifiers = const

# PascalCase 命名风格
dotnet_naming_style.pascal_case.capitalization = pascal_case

# PascalCase：命名空间、类型、方法、属性、常量、事件
dotnet_naming_rule.pascal_symbols.severity = warning
dotnet_naming_rule.pascal_symbols.symbols = pascal_symbols
dotnet_naming_rule.pascal_symbols.style = pascal_style

dotnet_naming_symbols.pascal_symbols.applicable_kinds = namespace, class, struct, interface, enum, method, property, event
dotnet_naming_style.pascal_style.capitalization = pascal_case